# smb_automation
[RUS/ENG]
Данный скрипт предназначен для выявления открытых самба протоколов, а так же выявления версий диалектов, добавлен график для выявления тенденции работающих версий самбы в виде баров, сопоставление этой информации поможет понять, какие версии работают в блоках адресов и на какие делать ориентир в первую очередь. На данный момент это один из первых проектов масс-сканирования, поэтому  он является очень сырым, некоторые экспект логируются и большинство действий логируется, для выявления ошибок. К сожалению при наблюдениях было выявлено, что даже такой простой скрипт, может причинить вред, к информации которая общедоступна, обьяснять каким образом получить чистый блок адресов с открытым портом самбы я не буду.
Постараюсь обьяснить что для запуска вам понадобится:
- Работащий список,в любом виде котором вам угодно, для примера я его оставил в коде.
![изображение](https://user-images.githubusercontent.com/112577182/204134300-5fb1cb97-b4ff-44b8-8364-4f664d091d4e.png)

Очень важно понять, что зная язык, вы можете свободно попробовать запустить отдельные функции, так как скорее это небольшой сборник.
2 модуля программы работают с многопоточностью, а первый  работает в режиме 1 поток (реализовать на нём многопоточность ещё не успел)

Этапы работы таковы: 
1. Диалекты и график версий( 1 поток ). 
2. Дампы всех открытых папок на втором уровне вложенности( максимально возможное пространство потоков (1500) ). 
3. Дампы всех открытых папок первого уровня( максимально возможное пространство потоков (1500) ).

- Tested Python 3.10
- Так же перед началом установите некоторые импорты ( pysmb, smbprotocol, threading, uuid ) это самые важные, остальные посмотрите в коде, в части import

![изображение](https://user-images.githubusercontent.com/112577182/204134738-f93fea6f-5e18-4ec1-ac9b-27813fa666ce.png)

- Запустить можем любым удобным способом, для примера ( cmd ) python3 main.py  для Linux
- После запуска нажмите любу клавишу чтобы начать сканирование (3-степ каждый этап click enter)

![изображение](https://user-images.githubusercontent.com/112577182/204135005-0f9faaa7-11e1-43cf-99e4-b8f5af2601b8.png)

Как видите при успешном коннект, нам возвращается версия диалекта (числовой формат) Если видимый протокол, возвращает Not supported, начинается перебор всех версий модуля.
После первого этапа вам предложат создать фигуру. Нажимаем ентер.

![изображение](https://user-images.githubusercontent.com/112577182/204135234-637c5d00-0002-4987-a21f-54847f5de6a1.png)

Тут видны все версии диалектов, количество активных хостов с версией самбы. В зависимости от блоков адресов, диалекты заметно меняются. Это может быть выжными при создание масс_сканирования
